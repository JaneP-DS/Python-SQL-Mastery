# 📚 [제2과목] SQL 기본 및 활용 CH.01

## 1. SQL의 개념 및 유형
SQL은 관계형 데이터베이스를 관리하기 위한 언어로, 크게 4가지 유형으로 분류됨.

### 📋 SQL의 4가지 유형
| 구분 | 유형 | 설명 | 주요 명령어 |
| :---- | :---- | :---- | :---- |
| **DDL** | 데이터 정의어 | 데이터 스키마를 설정하거나 수정하는 작업 | `CREATE`, `ALTER`, `DROP`, `TRUNCATE`, `RENAME`|
| **DML** | 데이터 조작어 | 데이터베이스 내의 인스턴스(레코드)를 다루는 작업 | `SELECT`, `INSERT`, `UPDATE`, `DELETE` |
| **DCL** | 데이터 제어어 | 계정 생성, 권한 부여 등 데이터베이스의 접근 및 사용을 관리하는 작업 | `GRANT`, `REVOKE` |
| **TCL** | 트랜잭션 제어어 | 데이터의 일관성과 무결정을 보장하기 위해 트랜잭션 단위로 묶어서 관리하는 작업|`COMMIT`, `ROLLBACK`|

---

## 2. SQL 기본 작성 규칙
* **문장의 끝:** 세미콜론(`;`)으로 종료.
* **대소문자:** 명령어, 객체명, 변수명은 구분하지 않으나 키워드는 대문자 작성을 권장.
* **데이터 표기:** 문자열과 날짜 데이터는 **작은따옴표(`' '`)**를 사용.
* **공백과 줄 바꿈:** 단어와 단어 사이는 공백 또는 줄 바꿈으로 구분.
* **주석:** 한 줄은 `--`, 여러 줄은 `/* ... */`를 사용.

---

## 3. SELECT 및 FROM 절
* **SELECT:** 데이터 조회 시 사용.
    * `ALL`: 모든 레코드 조회 (기본값, 생략 가능).
    * `DISTINCT`: 중복된 행을 제거하고 고유한 값만 출력함.(여러 개의 NULL값이 있어도 하나의 NULL값만 출력.)
* **FROM:** 데이터를 조회할 테이블을 지정하는 구문.
> DUAL 테이블 : 테스트나 임시 연산을 위해 만들어진 것으로 FROM 절에 사용 시 1개의 결과만을 출력함.
* **별칭(Alias):** 컬럼이나 테이블에 임시 이름을 부여함.
    * 컬럼 별칭: `AS` 사용 (생략 가능, 공백/특수문자 포함 시 `" "` 사용).
    * 테이블 별칭: 테이블명 뒤에 한 칸 띄우고 작성.

## 4. WHERE 절 및 연산자
* **WHERE:** 특정 조건에 맞는 데이터만 필터링함.

🧩 **산술 연산자:** `+`, `-`, `*`, `/`.

🧩 **비교 연산자:** `=`, `<>`, `<`, `>`, `<=`, `>=`.

🧩 **논리 연산자:** `AND` (모두 참), `OR` (하나라도 참), `NOT` (결과 반전).

🧩 **SQL 연산자:**

 * **BETWEEN:** `BETWEEN A AND B` (A와 B 사이 값, A/B 포함).
 * **IN:** `IN (값1, 값2, ...)` (목록 중 하나라도 일치하면 참).
 * **LIKE:** 문자 패턴 매칭.
    * `%`: 0개 이상의 문자열.
    * `_`: 정확히 1개의 문자.
 * **연결 연산자:** `||` (오라클) 또는 `CONCAT` 함수 (여러 문자열을 하나로 합침).
> CONCAT 함수는 두 개의 문자열만 연결가능. `||`는 여러 개의 문자열을 연속적으로 연결가능.
 * **IS NULL:** NULL값인 경우 참, IS NOT NULL : NULL값이 아닌 경우 참.

## 5. NULL 값의 처리
* **개념:** 존재하지 않음, 미정, 알 수 없는 값을 의미함 (0이나 공백과 다름).
* **비교:** 일반 비교 연산자 사용 불가.
* **산술:** NULL이 포함된 산술 연산 결과는 항상 NULL임.

## 6. ORDER BY 절
* **개념:** 결과 데이터의 출력 순서를 정렬함.
* **옵션:**
    * `ASC`: 오름차순 (기본값, 생략 가능).
    * `DESC`: 내림차순 (생략 불가능).
* **특징:** 성능 저하를 방지하기 위해 꼭 필요한 경우에만 사용함.

## 7. ROWNUM
* **개념:** 조회된 결과에 행 번호를 부여하는 가상 컬럼(Oracle 기준).
* **용도:** 출력 개수 제한 등에 사용 (예: `WHERE ROWNUM <= 10`).
⚠️항상 1부터 순서대로 충족되어야함.

## 8. 레코드 삽입, 삭제, 갱신 (DML)
* **삽입 (INSERT):** 새 행 추가.
    * `INSERT INTO 테이블 (컬럼) VALUES (값);`
    * `INSERT ALL : 여러 레코드를 테이블에 동시 삽입할 수 있음.반드시 SELECT문과 함께 사용.- DUAL 테이블을 사용함.`
* **갱신 (UPDATE):** 기존 행 수정.
    * `UPDATE 테이블 SET 컬럼 = 새로운 값 WHERE 조건;` (WHERE 생략 시 전체 변경).
* **삭제 (DELETE):** 기존 행 삭제.
    * `DELETE FROM 테이블(=DELETE 테이블) WHERE 조건;` (WHERE 생략 시 전체 삭제).

# 📚 [제2과목] SQL 함수 CH.02

## 1. 함수의 개념 및 유형
* **개념:** 입력을 받아 특정 처리를 수행하고 결과값을 반환하는 기능.
* **유형:**
    - **단일행 함수 :** 각 행에 대해 개별적으로 조작하여 행마다 하나의 결과를 반환함.
    - **다중행 함수 :** 여러 행을 그룹화하여 하나의 결과(합계, 평균 등)를 반환함.

## 2. 단일행 함수의 종류
* **문자형 함수:** `LOWER`, `UPPER`, `SUBSTR`(문자열 추출), `LENGTH`(길이), `LTRIM/RTRIM`(공백 제거), `REPLACE`(치환), `INSTR`(인덱스 반환).
* **숫자형 함수:**
    - `ABS(숫자)`: 절댓값.
    - `SIGN(숫자)`: 양수: 1, 음수: -1, 0: 0 반환.
    - `MOD(숫자1, 숫자2)`: 나머지 계산.
    - `ROUND(숫자)`: 소수점 첫째 자리에서 반올림.
    - `ROUND(숫자, m)`: 소수점 m째 자리까지 나타나도록 (m+1)째 자리에서 반올림.
    - `TRUNC(숫자)`: 소수점 버리고 정수만 반환.
    - `TRUNC(숫자, m)`: 소수점 m째 자리까지 남기고 나머지 부분은 버림.
    - `CEIL`: 크거나 같은 최소 정수, `FLOOR`: 작거나 같은 최대 정수.
* **날짜형 함수:**
    - `SYSDATE`: 현재 날짜와 시간 반환.
    - `ADD_MONTHS(날짜, n)`: 개월 수 더하기.
    - `EXTRACT`: 날짜 데이터에서 특정 구성 요소를 추출.(반드시 날짜 유형의 데이터가 사용되어야함).
    - `TRUNC(날짜, 'DD')`: 주어진 날짜에서 시/분/초를 제거하고 날짜만 반환하는 함수.

## 3. 변환형 함수
* **명시적 형변환:** 데이터 타입을 직접 지정하여 변환함.
    - `TO_CHAR`: 숫자/날짜를 문자로 변환.
    - `TO_NUMBER`: 문자를 숫자로 변환.
    - `TO_DATE`: 문자를 날짜로 변환.
* **암시적 형변환:** 시스템이 자동으로 데이터 타입을 변환하는 것 (성능 저하 및 에러 유발 가능성 있음).

## 4. REGEXP 함수 (정규 표현식)
* **개념:** 복잡한 문자열 패턴을 검색하거나 조작할 때 사용함.
* **주요 함수 (Oracle 기준):**
    - `REGEXP_LIKE`: 패턴 일치 여부 확인 (WHERE절에서 주로 사용).
    - `REGEXP_REPLACE`: 패턴을 찾아 다른 문자로 변경.
    - `REGEXP_SUBSTR`: 패턴에 일치하는 부분 추출.
    - `REGEXP_INSTR`: 패턴이 시작되는 위치 반환.
    - `REGEXP_COUNT`: 패턴이 등장한 횟수 반환.

## 5. 조건문 및 분기 함수
* **CASE EXPRESSION:** ANSI 표준 조건문.
    - `CASE WHEN 조건 THEN 결과 ELSE 기본값 END` 형식으로 사용함.
* **DECODE:** Oracle 전용 함수.
    - `DECODE(컬럼, 조건1, 결과1, 조건2, 결과2, 기본값)` 형식으로 사용하며, `=` 비교만 가능함.

## 6. NULL 관련 함수
* **NVL (Oracle):** `NVL(표현식, 대체값)` -> NULL이면 대체값, NULL이 아니면 표현식 반환.
* **NVL2 (Oracle):** `NVL2(컬럼, 결과1, 결과2)` -> NULL이 아니면 결과1, NULL이면 결과2 반환.
* **NULLIF:** `NULLIF(A, B)` -> A와 B가 같으면 NULL, 다르면 A 반환.
* **COALESCE:** `COALESCE(값1, 값2, ...)` -> NULL이 아닌 첫 번째 값을 반환함.
